### 由于tenant_id在程序中硬编码,可能也许大概会导致问题,请先尝试当前版本是否行,如若不行再抓包获取并写入程序即可
### 作者是超级菜菜小登,有大佬发现bug可提issue,想改进代码可提pr

> 你有没有因为周围人太卷而时常预约不到图书馆座位?
> 自动化抢座位程序你值得拥有!

## 已经实现的API
1. seat(获取当前区域所有座位的情况)
2. confirm(预约座位操作)
3. list(列出所有区域的大概情况)

## 关于segment (重要)
**`segment_id` 并不是固定的，它会每天自动 +1。**

本程序已实现动态计算 `segment_id`。你**无需**手动修改。

程序会使用以下 `2025-11-06` 的基准 ID，并根据当前日期自动计算偏移量（例如，`2025-11-07` 时，程序会自动使用 `1386529 + 1 = 1386530` 作为二层南的 ID）。

**基准日 (2025-11-06) 的 Segment ID 映射：**
    {
        "二层南":1386529,
        "二层北":1387307,
        "三层东":1388085,
        "三层南":1388863,
        "三层北":1389641,
        "四层东":1390419,
        "四层南":1391197,
        "四层西":1391975,
        "四层北":1392753,
        "五层东":1393531
    }

## 关于预约策略
1. **预约模式 (Scope Mode)**：
    * **模式 0 (默认)**: 仅监控和预约 `二层北` 和 `二层南`。
    * **模式 1**: 监控和预约所有区域 (二层至五层)。
2. **区域优先级**：若多个区域有空座位,则优先级: `二层北` > `二层南` > `三层` > `四层` > `五层`。
3. **监控策略**：程序只扫描区域列表的第1页 (已覆盖所有目标区域)。以用户设定的刷新间隔 (`refresh_time`) 调用 `list` API，检测目标区域的 `"free_num"` 值。

## 交互界面
本程序面向运行在 Github Workflow 中。
* 它通过 **Secrets** (机密) 安全地获取您的 `学号` 和 `密码`。
* 它通过 **Workflow Inputs** (手动触发参数) 接受用户的配置：`预约模式` 和 `刷新时间`。
* 程序会实时打印详细日志。

## 使用方法
1. 在GitHub 仓库页面，点击 **Settings**。
2. 在左侧菜单中，找到 **Security** -> **Secrets and variables** -> **Actions**。
3. 点击 **New repository secret**。
4. 创建第一个机密:
    * Name: `STUDENT_ID`
    * Secret: (这里输入您的学号)

5. 再次点击 **New repository secret**,创建第二个机密:
    * Name: `PASSWORD`
    * Secret: (这里输入您的密码)

**注意**:密码最好用`"`包裹起来,避免特殊符号导致的读取问题。

6. 点击仓库主页的 **Actions** 标签页。
7. 在左侧找到 **自动预约座位** (或 `book-seat`) 工作流，点击它。
8. 点击右侧的 **Run workflow** (运行工作流) 下拉菜单。
9. **填写运行参数**：
    * **预约模式 (scope_mode)**: 填 `0` (默认, 仅二层) 或 `1` (全部区域)。
    * **刷新间隔时间 (refresh_time)**: 填入刷新秒数 (例如 `0.8` 或 `1.0`)。
10. 点击 **Run workflow** 按钮开始运行。